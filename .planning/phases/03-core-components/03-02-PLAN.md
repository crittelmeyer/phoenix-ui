---
phase: 03-core-components
plan: 02
type: execute
wave: 2
depends_on: ['03-01']
files_modified:
  - packages/ui/src/components/select.tsx
  - packages/ui/src/components/checkbox.tsx
  - packages/ui/src/components/radio-group.tsx
  - packages/ui/src/components/label.tsx
autonomous: true

must_haves:
  truths:
    - 'Select opens a dropdown with selectable items using keyboard or mouse'
    - 'Checkbox toggles checked state and supports indeterminate'
    - 'RadioGroup allows single selection from multiple options'
    - 'All three components use semantic tokens exclusively'
    - 'All three components work uncontrolled by default (Radix pattern)'
  artifacts:
    - path: 'packages/ui/src/components/select.tsx'
      provides: 'Select compound component (Root, Trigger, Content, Item, etc.)'
      exports:
        [
          'Select',
          'SelectGroup',
          'SelectValue',
          'SelectTrigger',
          'SelectContent',
          'SelectLabel',
          'SelectItem',
          'SelectSeparator',
          'SelectScrollUpButton',
          'SelectScrollDownButton',
        ]
    - path: 'packages/ui/src/components/checkbox.tsx'
      provides: 'Checkbox component wrapping Radix Checkbox'
      exports: ['Checkbox']
    - path: 'packages/ui/src/components/radio-group.tsx'
      provides: 'RadioGroup + RadioGroupItem wrapping Radix RadioGroup'
      exports: ['RadioGroup', 'RadioGroupItem']
    - path: 'packages/ui/src/components/label.tsx'
      provides: 'Label component wrapping Radix Label'
      exports: ['Label']
  key_links:
    - from: 'packages/ui/src/components/select.tsx'
      to: '@radix-ui/react-select'
      via: 'Radix Select primitives'
      pattern: 'import.*SelectPrimitive.*from.*@radix-ui/react-select'
    - from: 'packages/ui/src/components/checkbox.tsx'
      to: '@radix-ui/react-checkbox'
      via: 'Radix Checkbox primitive'
      pattern: 'import.*CheckboxPrimitive.*from.*@radix-ui/react-checkbox'
    - from: 'packages/ui/src/components/radio-group.tsx'
      to: '@radix-ui/react-radio-group'
      via: 'Radix RadioGroup primitive'
      pattern: 'import.*RadioGroupPrimitive.*from.*@radix-ui/react-radio-group'
---

<objective>
Build Select, Checkbox, and Radio form components on Radix UI primitives, plus a Label utility component. These are the Radix-powered form primitives that pair with Input/Textarea from Plan 01.

Purpose: Completes the form input set — developers can build full forms with Select dropdowns, checkboxes, and radio buttons, all accessible and keyboard-navigable via Radix.

Output: 4 new component files (select.tsx, checkbox.tsx, radio-group.tsx, label.tsx).
</objective>

<execution_context>
@/Users/chris/.claude/get-shit-done/workflows/execute-plan.md
@/Users/chris/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-core-components/03-RESEARCH.md
@.planning/phases/03-core-components/03-CONTEXT.md
@.planning/phases/03-core-components/03-01-SUMMARY.md
@packages/ui/src/lib/utils.ts
@apps/web/src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Select compound component</name>
  <files>
    packages/ui/src/components/select.tsx
  </files>
  <action>
    Create `packages/ui/src/components/select.tsx` following the shadcn/ui Select pattern exactly.

    Import `* as SelectPrimitive from "@radix-ui/react-select"` and wrap each part with styling via cn().

    **Parts to export (all from one file):**

    - `Select` = SelectPrimitive.Root (re-export as-is)
    - `SelectGroup` = SelectPrimitive.Group (re-export as-is)
    - `SelectValue` = SelectPrimitive.Value (re-export as-is)
    - `SelectTrigger` — forwardRef wrapper around SelectPrimitive.Trigger:
      - Classes: flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background
      - Placeholder: placeholder:text-muted-foreground
      - Focus: focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2
      - Disabled: disabled:cursor-not-allowed disabled:opacity-50
      - Include a ChevronDown icon (use inline SVG or a simple span with CSS — avoid adding lucide-react dependency). Use a small SVG: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>` wrapped in SelectPrimitive.Icon with className "h-4 w-4 opacity-50".
    - `SelectScrollUpButton` — forwardRef, flex cursor-default items-center justify-center py-1, contains up chevron SVG
    - `SelectScrollDownButton` — forwardRef, flex cursor-default items-center justify-center py-1, contains down chevron SVG
    - `SelectContent` — forwardRef wrapper around SelectPrimitive.Content:
      - Wrap in SelectPrimitive.Portal
      - Classes: relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-background text-foreground shadow-md
      - Animation classes: data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95
      - Position-based classes for popper vs item-aligned (use position prop, default "popper")
      - Contains SelectScrollUpButton, SelectPrimitive.Viewport, SelectScrollDownButton
      - When position="popper": viewport gets max-h-[var(--radix-select-content-available-height)]
    - `SelectLabel` — forwardRef, py-1.5 pl-8 pr-2 text-sm font-semibold
    - `SelectItem` — forwardRef wrapper around SelectPrimitive.Item:
      - Classes: relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none
      - Focus: focus:bg-accent focus:text-accent-foreground
      - Disabled: data-[disabled]:pointer-events-none data-[disabled]:opacity-50
      - Contains span with SelectPrimitive.ItemIndicator (check icon SVG) + SelectPrimitive.ItemText
    - `SelectSeparator` — forwardRef, -mx-1 my-1 h-px bg-muted

    TypeScript: Use `React.ElementRef<typeof SelectPrimitive.X>` and `React.ComponentPropsWithoutRef<typeof SelectPrimitive.X>` pattern for each part.

    Set displayName on every forwardRef component.

  </action>
  <verify>
    - `pnpm turbo run typecheck` passes
    - File exports all 10 named exports
    - No inline styles or arbitrary color values
    - displayName set on all forwardRef components
  </verify>
  <done>
    Select compound component exports all parts (Root, Trigger, Content, Item, etc.). Uses Radix Select primitive with semantic token styling. Supports keyboard navigation and popper positioning via Radix.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Checkbox, RadioGroup, and Label components</name>
  <files>
    packages/ui/src/components/checkbox.tsx
    packages/ui/src/components/radio-group.tsx
    packages/ui/src/components/label.tsx
  </files>
  <action>
    **Checkbox** (`packages/ui/src/components/checkbox.tsx`):

    Import `* as CheckboxPrimitive from "@radix-ui/react-checkbox"`.

    Create forwardRef wrapper around CheckboxPrimitive.Root:
    - Classes: peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background
    - Focus: focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
    - Disabled: disabled:cursor-not-allowed disabled:opacity-50
    - Checked: data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground
    - Contains CheckboxPrimitive.Indicator with className "flex items-center justify-center text-current"
    - Indicator contains check SVG icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 6 9 17l-5-5"/></svg>` with className "h-4 w-4"

    TypeScript: `React.ElementRef<typeof CheckboxPrimitive.Root>` + `React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>`.

    **RadioGroup** (`packages/ui/src/components/radio-group.tsx`):

    Import `* as RadioGroupPrimitive from "@radix-ui/react-radio-group"`.

    Two components in one file:

    1. `RadioGroup` — forwardRef wrapper around RadioGroupPrimitive.Root:
       - Classes: grid gap-2
       - Spread all props

    2. `RadioGroupItem` — forwardRef wrapper around RadioGroupPrimitive.Item:
       - Classes: aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background
       - Focus: focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
       - Disabled: disabled:cursor-not-allowed disabled:opacity-50
       - Contains RadioGroupPrimitive.Indicator with className "flex items-center justify-center"
       - Indicator contains a filled circle: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="5"/></svg>` with className "h-2.5 w-2.5 fill-current text-current" (or use a div with rounded-full h-2.5 w-2.5 bg-current)

    **Label** (`packages/ui/src/components/label.tsx`):

    Import `* as LabelPrimitive from "@radix-ui/react-label"`.

    forwardRef wrapper around LabelPrimitive.Root:
    - Classes: text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70
    - This pairs with form inputs (Checkbox, Radio use peer class)

    All components: import cn from "../lib/utils", set displayName, use semantic tokens only, spread {...props}.

  </action>
  <verify>
    - `pnpm turbo run typecheck` passes
    - `pnpm --filter @phoenix/ui run lint` passes
    - checkbox.tsx exports Checkbox
    - radio-group.tsx exports RadioGroup and RadioGroupItem
    - label.tsx exports Label
    - No hardcoded color values (grep for hex values returns nothing)
  </verify>
  <done>
    Checkbox toggles with accessible keyboard support. RadioGroup allows arrow-key selection between RadioGroupItems. Label pairs with peer-class inputs for disabled state propagation. All use semantic tokens exclusively.
  </done>
</task>

</tasks>

<verification>
1. `pnpm turbo run typecheck` — all packages pass
2. `pnpm --filter @phoenix/ui run lint` — no lint errors
3. All 4 files exist: select.tsx, checkbox.tsx, radio-group.tsx, label.tsx
4. No hardcoded color values in any component file
5. Each Radix component uses forwardRef + ElementRef + ComponentPropsWithoutRef pattern
</verification>

<success_criteria>

- COMP-05: Select component built on Radix Select primitive with all compound parts
- COMP-06: Checkbox component built on Radix Checkbox primitive
- COMP-07: Radio component built on Radix RadioGroup primitive
- Label utility component for form accessibility
- All components use semantic token classes exclusively (COMP-15 partial)
  </success_criteria>

<output>
After completion, create `.planning/phases/03-core-components/03-02-SUMMARY.md`
</output>
